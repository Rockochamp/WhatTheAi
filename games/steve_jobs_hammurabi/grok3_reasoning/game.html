<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Steve Jobs - Hammurabi - What the Ai</title>
    <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
    <link rel="stylesheet" href="game.css">
    <!-- Firebase App/Firestore -->
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
</head>
<body>
    <!-- Breadcrumb navigation -->
    <div class="breadcrumb"> <a href="/index.html">Back to Games</a> </div>
    <!-- Version indicator -->
    <div class="version-indicator" id="versionIndicator"> Grok 3 Reasoning </div>

    <h1 id="titleBanner">Steve Jobs - Hammurabi</h1>

    <!-- Start Page -->
    <div id="startScreen">
        <div id="playerInfo">
            <label for="playerName">Player Name (max 10 chars): </label>
            <input type="text" id="playerName" maxlength="10" placeholder="Enter your name" />
            <button id="startGame">Start Game</button>
        </div>
        <div id="globalLeaderboardStart" class="leaderboard-box">
            <!-- Title updated to reflect pawn ranking -->
            <h2>Global Leaderboard</h2>
            <p id="globalGamesPlayedStart" class="totalGamesText">(Total games played worldwide: Loading...)</p>
            <div id="globalRankingContentStart">Loading...</div>
        </div>
    </div>

    <!-- Game Container -->
    <div id="gameContainer">
        <!-- Game Interface on the left -->
        <div id="gameArea">
            <div id="game">
                <h1>Pawn Master</h1>
                <div id="resources">
                    <p>Year: <span id="year">1</span> / 10</p> <!-- Indicate max year -->
                    <p>Food: <span id="food">1000</span> bushels</p>
                    <p>Land: <span id="land">100</span> acres</p>
                    <p>Pawns: <span id="pawns">100</span></p>
                    <p>Land Price: <span id="landPrice">?</span> bushels/acre</p>
                </div>
                <div id="decisions">
                    <h2>Make Your Decisions for Year <span id="decisionYear">1</span></h2>
                    <label>Buy Land: <input type="number" id="buyLand" min="0" value="0"></label>
                    <label>Sell Land: <input type="number" id="sellLand" min="0" value="0"></label>
                    <label>Plant Crops (Acres): <input type="number" id="plant" min="0" value="0"></label>
                    <label>Feed Pawns (Bushels/Pawn): <input type="number" id="feed" min="0" value="0"></label>
                    <button id="nextTurn">Confirm Decisions & End Year</button>
                </div>
                <div id="outcome">
                    <h2>Last Year's Outcome</h2>
                    <p id="message"></p>
                </div>
            </div>
             <p class="instructions">
                Guide your pawns for 10 years. Maximize your final pawn count. <br> The game ends after year 10, or if your population reaches zero. Good luck!
            </p>
        </div>

        <!-- Right side: Local, Global Leaderboard + Volume Control -->
        <div id="boardsContainer">
             <div id="rankingBoard" class="leaderboard-box">
                 <!-- Title updated -->
                <h2>Local Ranking</h2>
                <div id="rankingContent">No games played yet.</div>
            </div>
            <div id="globalLeaderboardGame" class="leaderboard-box">
                 <!-- Title updated -->
                <h2>Global Leaderboard</h2>
                <p id="globalGamesPlayedGame" class="totalGamesText">(Total games played worldwide: Loading...)</p>
                <div id="globalRankingContentGame">Loading...</div>
            </div>
            <div class="volume-control">
                <label for="volumeSlider">Music Volume:</label>
                <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="0.5">
            </div>
        </div>
    </div>

    <!-- Audio Element -->
    <audio id="backgroundMusic" loop>
        <source src="/music/Elysium.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <!-- Load Shared Blocklist FIRST -->
    <script src="/js/common/blocklist.js"></script>
    <!-- Load Game Logic Second -->
    <!-- IMPORTANT: Remember game.js needs the *production* firebaseConfig -->
    <script src="game.js"></script>

    <!-- Cloudflare Analytics -->
    <script defer src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon='{"token":"7e23bb1be08e4d83bb66013aab939d1e"}'></script>
</body>
</html>